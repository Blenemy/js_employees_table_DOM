{"version":3,"sources":["scripts/main.js"],"names":["body","document","querySelector","tbody","savingObject","state","error","createElement","classList","add","setAttribute","success","convertFromForm","number","parseInt","toLocaleString","split","join","converter","slice","innerHTML","insertAdjacentHTML","button","tableSort","element","order","trs","sorted","querySelectorAll","position","parentNode","children","indexOf","sort","a","b","tr","append","addEventListener","e","item","target","closest","elementDOM","preventDefault","remove","inputs","select","style","backgroundColor","find","el","value","length","incorrect","filter","selectedOptions","textContent","tableTds","input","eventDbl","dblclickedItem","savedText","eventBlur","eventPress","code"],"mappings":"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","file":"main.9ba30e67.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst body = document.querySelector('body');\nconst tbody = document.querySelector('tbody');\nconst savingObject = {\n  state: true,\n};\n\nconst error = document.createElement('div');\n\nerror.classList.add('error');\nerror.classList.add('notification');\nerror.setAttribute('data-qa', 'notification');\n\nconst success = document.createElement('div');\n\nsuccess.classList.add('success');\nsuccess.classList.add('notification');\nsuccess.innerHTML = 'You were successfully added to the table';\nsuccess.setAttribute('data-qa', 'notification');\n\nfunction convertFromForm(number) {\n  return '$' + parseInt(number).toLocaleString('de-DE').split('.').join(',');\n}\n\nfunction converter(number) {\n  return number.slice(1).split(',').join('.');\n}\n\nbody.insertAdjacentHTML('beforeend', `\n<form class=\"new-employee-form\" action=\"\">\n  <label  for=\"name\">Name:\n    <input required data-qa=\"name\" type=\"text\">\n  </label>\n  <label for=\"\">Position:\n    <input required data-qa=\"position\" type=\"text\">\n  </label>\n  <label for=\"\">Office:\n    <select required data-qa=\"office\" name=\"\" id=\"\">\n      <option selected value=\"value1\">Tokyo</option>\n      <option value=\"value2\">Singapore</option>\n      <option value=\"value3\">London</option>\n      <option value=\"value3\">New York</option>\n      <option value=\"value3\">Edinburgh</option>\n      <option value=\"value3\">San Francisco</option>\n    </select>\n  </label>\n  <label for=\"\">Age:\n    <input required data-qa=\"age\" type=\"number\">\n  </label>\n  <label for=\"\">Salary:\n    <input required data-qa=\"salary\" type=\"number\">\n  </label>\n  <button class=\"new-employee-form__button\" type=\"submit\">Save to table</button>\n</form>`);\n\nconst button = document.querySelector('.new-employee-form__button');\n\nfunction tableSort(element, order) {\n  const trs = document.querySelectorAll('tbody tr');\n  const parentNode = element.parentNode;\n  const position = [...parentNode.children].indexOf(element);\n  let sorted;\n\n  (position === 4)\n    ? sorted = [...trs].sort((a, b) => converter(a.children[position]\n      .innerHTML) - converter(b.children[position].innerHTML))\n    : sorted = [...trs].sort((a, b) => a.children[position]\n      .innerHTML > b.children[position].innerHTML ? 1 : -1);\n\n  if (!order) {\n    (position === 4)\n      ? sorted = [...trs].sort((a, b) => converter(b.children[position]\n        .innerHTML) - converter(a.children[position].innerHTML))\n      : sorted = [...trs].sort((a, b) => b.children[position]\n        .innerHTML > a.children[position].innerHTML ? 1 : -1);\n  }\n\n  tbody.innerHTML = '';\n\n  for (const tr of sorted) {\n    tbody.append(tr);\n  }\n}\n\ndocument.addEventListener('click', e => {\n  const item = e.target;\n\n  if (item.closest('thead')) {\n    if (item === savingObject.elementDOM) {\n      savingObject.state = !savingObject.state;\n    }\n\n    tableSort(item, savingObject.state);\n    savingObject.elementDOM = item;\n  }\n\n  if (item === button) {\n    e.preventDefault();\n\n    if (document.querySelector('.success')) {\n      success.remove();\n    }\n\n    if (document.querySelector('.error')) {\n      error.remove();\n    }\n\n    const inputs = document.querySelectorAll('.new-employee-form label input');\n    const select = document.querySelector('.new-employee-form label select');\n\n    for (const index of [...inputs]) {\n      index.style.backgroundColor = '';\n    }\n\n    if ([...inputs].find(el => el.value.length === 0)) {\n      const incorrect = [...inputs].filter(el => el.value.length === 0);\n\n      for (const input of incorrect) {\n        input.style.backgroundColor = '#bed7dc';\n      }\n\n      error.innerHTML = 'Some fields are empty';\n      body.append(error);\n\n      return;\n    }\n\n    if ([...inputs][0].value.length < 4) {\n      [...inputs][0].style.backgroundColor = '#bed7dc';\n      error.innerHTML = 'Name must contain al least 4 characters';\n      body.append(error);\n\n      return;\n    }\n\n    if ([...inputs][2].value < 18 || [...inputs][2].value > 90) {\n      [...inputs][2].style.backgroundColor = '#bed7dc';\n      error.innerHTML = 'Age cannot be less than 18 or older than 90';\n      body.append(error);\n\n      return;\n    }\n\n    tbody.insertAdjacentHTML('beforeend', `\n  <tr>\n    <td>${[...inputs][0].value}</td>\n    <td>${[...inputs][1].value}</td>\n    <td>${select.selectedOptions[0].textContent}</td>\n    <td>${[...inputs][2].value}</td>\n    <td>${convertFromForm([...inputs][3].value)}</td>\n  </tr>\n`);\n\n    body.append(success);\n  }\n\n  if (item.closest('tbody tr')) {\n    const trs = document.querySelectorAll('tr');\n\n    for (const char of [...trs]) {\n      char.classList.remove('active');\n    }\n\n    e.target.closest('tbody tr').classList.add('active');\n  }\n});\n\nconst tableTds = document.querySelectorAll('tbody td');\n\nfor (const item of [...tableTds]) {\n  const input = document.createElement('input');\n\n  input.setAttribute('type', 'text');\n  input.classList.add('cell-input');\n\n  item.addEventListener('dblclick', eventDbl => {\n    const dblclickedItem = eventDbl.target;\n\n    savingObject.savedText = dblclickedItem.innerHTML;\n    input.value = dblclickedItem.innerHTML;\n    dblclickedItem.innerHTML = '';\n    dblclickedItem.append(input);\n  });\n\n  input.addEventListener('blur', eventBlur => {\n    if (input.value.length === 0) {\n      input.value = savingObject.savedText;\n\n      return;\n    }\n\n    input.parentNode.innerHTML = input.value;\n  });\n\n  item.addEventListener('keyup', eventPress => {\n    if (input.value.length === 0) {\n      input.value = savingObject.savedText;\n\n      return;\n    }\n\n    if (eventPress.code === 'Enter') {\n      input.parentNode.innerHTML = input.value;\n    }\n  });\n}\n"]}